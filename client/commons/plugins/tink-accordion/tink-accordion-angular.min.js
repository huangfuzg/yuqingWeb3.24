/*! tink-accordion-angular v2.0.0 */
"use strict";!function(module){try{module=angular.module("tink.accordion")}catch(e){module=angular.module("tink.accordion",["tink.tinkApi"])}module.controller("TinkAccordionController",[function(){var self=this;this.groups={},this.init=function(accordion,element,opts){self.$accordion=accordion,self.$options=opts,self.$accordion.init(element)};var currentOpen;this.addGroup=function(scope,elem){self.$accordion.addGroup(elem),self.$options.startOpen&&scope.isCollapsed!==!0?scope.open():scope.isCollapsed===!1&&scope.open()},this.addLoader=function(elem){currentOpen=elem,self.$accordion.addLoader(elem)},this.openGroup=function(elem,scope){self.$options.oneAtATime&&currentOpen&&currentOpen!==scope&&currentOpen.toggleOpen(),currentOpen=scope,self.$accordion.openGroup(elem)},this.closeGroup=function(elem){self.$accordion.closeGroup(elem),currentOpen=null}}])}(),function(module){try{module=angular.module("tink.accordion")}catch(e){module=angular.module("tink.accordion",["tink.tinkApi"])}module.directive("tinkAccordion",["tinkApi",function(tinkApi){return{restrict:"EA",controller:"TinkAccordionController",transclude:!0,replace:!1,scope:{startOpen:"=",oneAtATime:"="},template:'<div class="accordion" ng-transclude></div>',compile:function(){return{pre:function(scope,element,attrs,accordionCtrl){var options={};angular.forEach(["oneAtATime","startOpen"],function(key){angular.isDefined(attrs[key])&&("boolean"==typeof scope[key]?options[key]=scope[key]:options[key]="true"===attrs[key])});var accordionElem=tinkApi.accordion(element);accordionCtrl.init(accordionElem,element,options)}}}}}]).directive("tinkAccordionPanel",function(){return{restrict:"EA",priority:1500.1,compile:function(){}}}).directive("tinkAccordionPanel",function($compile,$timeout){return{require:"^tinkAccordion",restrict:"EA",priority:1500,transclude:!0,replace:!0,templateUrl:"templates/tinkAccordionPanel.html",scope:{onclick:"=?",isCollapsed:"=",hasPadding:"@",heading:"@"},compile:function(){return{pre:function(scope,element,attrs,accordionCtrl,transclude){transclude(function(clone,innerscope){var header=$(clone).filter("data-header");"string"!=typeof scope.heading?element.find(".panel-title").append(header):(element.find(".panel-title").html("{{heading}}"),$compile(element.find(".panel-title"))(scope))},scope);var trackToggle,insertContent=function(){transclude(function(clone,innerscope){var content=$(clone).filter("data-content");"string"!=typeof scope.heading?element.find(".accordion-loaded-content").append(content):element.find(".accordion-loaded-content").append(clone)})},removeContent=function(){element.find(".accordion-loaded-content").empty()},states={closed:1,open:2,loading:0},state=states.closed,onFunc="function"==typeof scope.onclick;onFunc||element.addClass("no-call-back"),scope.hasPadding="false"!==scope.hasPadding,scope.toggleOpen=function(){state===states.closed?onFunc?scope.loading():scope.open():state===states.open?scope.close():state===states.loading&&scope.cancel()},attrs.isCollapsed&&(trackToggle="true"===attrs.isCollapsed||"false"===attrs.isCollapsed?!1:!0),trackToggle&&scope.$watch("isCollapsed",function(newVar){newVar===!0?stateClose():newVar===!1&&stateOpen()}),scope.open=function(){trackToggle?scope.isCollapsed=!1:stateOpen()},scope.close=function(){trackToggle?scope.isCollapsed=!0:stateClose()},scope.loading=function(){trackToggle?scope.isCollapsed=!1:stateLoad()},scope.cancel=function(){trackToggle?scope.isCollapsed=!0:cancelTrans()};var stateLoad=function(){state=states.loading,callback("loading",function(){state===states.loading&&stateOpen()}),accordionCtrl.openGroup(element,scope)},stateOpen=function(){insertContent(),!onFunc&&state===states.closed||onFunc&&state===states.loading?(state=states.open,accordionCtrl.openGroup(element,scope),callback("open")):onFunc&&state===states.closed&&stateLoad()},stateClose=function(){state===states.open?(state=states.closed,accordionCtrl.closeGroup(element),callback("closed")):state===states.canceld&&cancelTrans(),$timeout(function(){removeContent()},1)},cancelTrans=function(){state=states.closed,accordionCtrl.closeGroup(element),callback("canceld")},callback=function(type,fn){onFunc&&scope.onclick(type,fn)};accordionCtrl.addGroup(scope,element)}}}}})}(),angular.module("tink.accordion").run(["$templateCache",function($templateCache){$templateCache.put("templates/tinkAccordionPanel.html","<section class=accordion-panel> <a href class=accordion-toggle ng-click=toggleOpen()> <div class=accordion-panel-heading> <span class=panel-title></span> </div> </a> <div class=accordion-panel-body data-ng-class=\"{'has-no-padding': hasPadding === 'false'}\"> <div class=accordion-loaded-content> </div> </div> </section>")}]);
//# sourceMappingURL=tink-accordion-angular.min.map